@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Design Tokens */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;

    /* Spacing */
    --spacing-xs: 0.5rem;
    --spacing-sm: 0.75rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;

    /* Transitions */
    --transition-fast: 150ms;
    --transition-base: 250ms;
    --transition-slow: 400ms;

    /* Z-index */
    --z-dropdown: 1000;
    --z-modal: 1050;
    --z-tooltip: 1100;
    --z-notification: 1200;
  }

  html,
  body {
    @apply h-full w-full overflow-hidden bg-slate-950 text-slate-100 font-sans antialiased;
    font-family: 'Inter', 'system-ui', '-apple-system', sans-serif;
    background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overscroll-behavior-y: none;
    /* Prevent bounce effect */
  }

  /* Prevent iOS Input Zoom */
  @media screen and (max-width: 768px) {

    input,
    select,
    textarea {
      font-size: 16px !important;
    }
  }

  ::selection {
    @apply bg-primary-500/30 text-white;
  }

  /* Scrollbar Improvements */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-slate-900/50 rounded-lg;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-700/70 rounded-lg hover:bg-slate-600/80 transition-colors;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-600;
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgb(51 65 85 / 0.7) rgb(15 23 42 / 0.5);
  }

  #root {
    @apply h-full w-full;
  }

  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Focus visible improvements */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-slate-950;
  }
}

@layer components {

  /* Unified Glassmorphism */
  .glass-card {
    @apply bg-slate-900/40 backdrop-blur-md border border-slate-800/50 shadow-glass;
    transition: all var(--transition-base) ease-in-out;
  }

  .glass-card:hover {
    @apply border-slate-800/50 shadow-glass-lg;
  }

  /* Premium Glass Effect */
  .glass-card-premium {
    @apply bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-slate-800/50 shadow-premium;
    transition: all var(--transition-base) ease-in-out;
  }

  .glass-card-premium:hover {
    @apply border-slate-700/50 shadow-premium-lg;
  }

  /* Button Base Styles */
  .btn-base {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-950;
  }

  .btn-primary {
    @apply btn-base bg-primary-600 hover:bg-primary-700 text-white;
    @apply focus:ring-primary-500 shadow-md hover:shadow-lg;
  }

  .btn-success {
    @apply btn-base bg-success-600 hover:bg-success-700 text-white;
    @apply focus:ring-success-500 shadow-md hover:shadow-lg;
  }

  .btn-ghost {
    @apply btn-base bg-transparent hover:bg-white/5 text-slate-300 hover:text-white;
    @apply focus:ring-white/20;
  }

  /* Input Base Styles */
  .input-base {
    @apply w-full px-4 py-2 rounded-lg bg-slate-900/50 border border-slate-800/50;
    @apply text-slate-100 placeholder-slate-500;
    @apply focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500;
    @apply transition-all duration-200;
  }

  /* Card Styles */
  .card {
    @apply glass-card rounded-xl p-4;
  }

  .card-premium {
    @apply glass-card-premium rounded-xl p-6;
  }

  /* Text Utilities */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-primary-600;
  }

  .text-gradient-success {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-success-400 to-success-600;
  }

  .text-glow {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
  }

  .text-glow-primary {
    text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }

  .text-glow-success {
    text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  }

  /* Effects */
  .active-glow {
    box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
  }

  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-1;
  }

  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  /* Loading States */
  .skeleton {
    @apply bg-slate-800/50 animate-pulse rounded;
  }

  /* Shimmer Effect */
  .shimmer {
    background: linear-gradient(110deg,
        transparent 25%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 75%);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }
}

@layer utilities {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top, 0);
  }

  .mt-safe {
    margin-top: env(safe-area-inset-top, 0);
  }

  .mb-safe {
    margin-bottom: env(safe-area-inset-bottom, 0);
  }

  /* Perspective Utilities */
  .perspective-1000 {
    perspective: 1000px;
  }

  .perspective-2000 {
    perspective: 2000px;
  }

  .transform-style-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .rotate-y-180 {
    transform: rotateY(180deg);
  }

  /* Truncate Utilities */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Backdrop Utilities */
  .backdrop-premium {
    @apply backdrop-blur-xl bg-slate-950/80;
  }

  /* Animation Delays */
  .animation-delay-100 {
    animation-delay: 100ms;
  }

  .animation-delay-200 {
    animation-delay: 200ms;
  }

  .animation-delay-300 {
    animation-delay: 300ms;
  }

  .animation-delay-500 {
    animation-delay: 500ms;
  }
}

/* Print Styles */
@media print {
  .no-print {
    display: none !important;
  }
}